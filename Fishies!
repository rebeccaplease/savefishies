int frameSize = 400;
int sky = 75;

int score =  0;

float squidPosX = frameSize/2;
float squidPosY = frameSize/2;
float squidSize = 10;

//initial squid position
float squidVelX = 4;
float squidVelY = 4;

//initial velocity
float v = 4;

//detect if key still pressed
boolean keyup = false;
boolean keyright = false;
boolean keyleft = false;
boolean keydown = false;

//records how long the key is pressed
int timeUp = 0;
int timeDown = 0;
int timeLeft = 0;
int timeRight = 0;

//for drawing line
float hookX = random(50, frameSize-50);
float hookY = (float)sky;
float endY = random(sky, frameSize-50);
float hookYsecond = endY; //to draw the line back up to beginning Y

float vX = .5;
float vY = random(.5, 1.5); //random velocity

void setup()
{
  size(frameSize, frameSize);
  textSize(20);
  ellipseMode(RADIUS);
  
}

void draw()
{
  //background color
  background(#33F2F9);
  noStroke();
  fill(#FFFFFF);
  rect(0, 0, frameSize, sky); 
  
  //scoreboard, change font
  fill(#000000);
  text("Score: " + score, 10, frameSize - 10 );
  
  //squid!
  fill(#5D209A);
  ellipse(squidPosX, squidPosY, squidSize, squidSize);
  
 //lines/hooks!
  stroke(1);


if (hookY < endY) {
    hookY += vY;
    line(hookX, sky, hookX, hookY);
    println(""+hookY);
  } 
  else {
    float hookYstart = hookY;
    while (hookY > sky) { 
      //fill(#FFFFFF);
      hookY -= vY;
    }
    line(hookX, hookYstart, hookX, hookY);

  }

  // line(hookX, sky, hookX, hookY);

  //if (hookY >= sky) {
  //hookY -=vY;
  //line(hookX, hookY, hookX, sky);
  // }
 
  
}

//move squid. the longer each key is held down, the faster it moves

void keyPressed() {
  if (key == CODED)
  {
    if (keyCode == UP || keyup) 
    {
      squidVelY = v + timeUp * 0.1;
        if(squidPosY - squidVelY < sky + squidSize) //if it will move past the top border
          squidPosY = sky + squidSize; //set position to touching the top border
        else 
          squidPosY -= squidVelY;
      keyup = true;
      timeUp++;
    } 
     if (keyCode == DOWN || keydown) 
    {
      squidVelY = v + timeDown * 0.1;  
        if(squidPosY + squidVelY > frameSize - squidSize) //if it will move past the bottom border
          squidPosY = frameSize - squidSize; //set position to touching the bottom border
        else
          squidPosY += squidVelY;
      keydown = true;
      timeDown++;
    }
     if(keyCode == LEFT || keyleft)
    {
      if(squidPosX > squidSize/2)
      {
      squidVelX = v + timeLeft * 0.1; 
        if(squidPosX - squidVelX < squidSize) //if it will move past the border
          squidPosX = squidSize; //set position to touching the left border
        else
          squidPosX -= squidVelX;
      keyleft = true;
      timeLeft++;
      }
    }
     if(keyCode == RIGHT || keyright)
    {
      squidVelX = v + timeRight * 0.1; 
        if(squidPosX + squidVelX > frameSize - squidSize) //if it will move past the border
          squidPosX = frameSize - squidSize; //set position to touching right border
        else
          squidPosX += squidVelX;
      keyright = true;
      timeRight++;
    }
  }
}
  
 
void keyReleased() {
  if (key == CODED) 
  {
    if (keyCode == UP) {
      keyup = false; 
      timeUp = 0;
    }
    if (keyCode == DOWN) {
      keydown = false; 
      timeDown = 0;
    }
    if (keyCode == LEFT) {
      keyleft = false; 
      timeLeft = 0;
    }
    if (keyCode == RIGHT) {
      keyright = false; 
      timeRight = 0;
    }
  }
}
